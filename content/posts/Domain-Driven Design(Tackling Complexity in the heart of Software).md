+++
title = "Domain Driven Design (Tackling Complexity In The Heart Of Software)"
author = ["pjy1418@gmail.com"]
date = 2020-07-06
lastmod = 2022-08-13T01:20:59+09:00
tags = ["domain-driven-design", "ddd", "도메인", "드리븐", "디자인"]
categories = ["posts"]
draft = false
weight = 100
+++

## 우리 소프트웨어의 문제점 {#우리-소프트웨어의-문제점}

-   요구사항이 명확하지 않았기 때문에 불필요한 기능이 많이 추가 되어있다.
-   초기에 설계가 미약했기 때문에 복잡한 모델이 혼재해 있다.
-   지속적으로 변경으로 코드가 복잡해졌고 변경이 어렵다.
-   테스트 코드가 적고 리펙토링에 취약하다.


## 서문 {#서문}

-   이책의 전제
    1.  대부분의 소프트웨어 프로젝트에서는 가장 먼저 도메인과 도메인 로직에 집중해야 한다.
    2.  복잡한 도메인 설계는 모델을 기반으로 해야 한다.

-   선행 조건
    1.  개발은 반복주기를 토대로 진행돼야 한다.

    2.  개발자와 도메인 전문가는 밀접한 관계에 있어야 한다.


## 이책의 구성 {#이책의-구성}

총 4부로 이루어져 있다.

1.  동작하는 도메인 모델 만들기
    도메인 주도 설계의 기본적인 목표를 제시한다. 이 목표는 이어서 나오는 실천지침의 배경이 된다. 소프트웨어 개발을 위한 접근법은 여러가지 있으므로 1부에서는 용어를 정의하고 도메인 모델의 사용이 의사소통과 설계에 어떤 영향을 주는지 설명한다.

2.  모델 주도 설계의 기본 요소
    객체지향 도메인 모델링에서 우수 실천법의 핵심을 몇가지 기본요소로 요약한다. 모델과 실제 동작하는 소프트웨어 간의 간극을 매우는 실제 패턴을 소개한다.  이러한 표준화 된 패턴을 활용하면 질서정연한 설계계가 가능햐진다. 팀원들이 서로의 업무를 더 쉽게 이해할 뿐더러 표준화된 패턴을 사용하면 공통언어에 함께 쓸 수 있는 용어가 마련되어 모든 팀원이 모델과 설계에 관한 의사 결정을 내리는 자리에서 이러한 용어를 사용할 수 있다.

3.  더 심층적인 통찰력을 향한 리팩터링
    기본 요소 수준을 뛰어넘어 이러한 가치를 제공하는 실용적인 모델을 만드는 것과 관련된 도전과제를 다룬다. 3부에서는 난해한 설계 원칙을 바로 적용하는 것이 아니라 발견 과정을 강조한다. 가치 있는 모델은 곧바로 나타지 않는다. 먼저 도메인을 깊이 있게 이해해야 한다. 이처럼 도메인을 이해하려면 원시적인 차원의 모델에 기반을 둔 초기 설계 내용을 구현해본 다음 그 구현을 반하는 과정을 거쳐야만 한다. 이장에서는 모델링 원칙과 적절한 방향을 제시하는 기법을 자세히 살펴본다.

4.  전략적 설계 에서는 복잡한 시스템 더 큰 조직 외부 시스템 및 기존 시스템과의 상호작용에서 발생하는 상황을 다룬다. 컨텍스트와 디스틸레이션, 대규모 구조와 같이 스스템에 총괄적으로 적용 가능한 세 가지 축을 구성하는 원칙을 살펴본다.


## 도메인 주도 팀의 장점 {#도메인-주도-팀의-장점}

-   도메인 주도 설계는 팀이 합심하여 도메인 주도 설계 접근법을 적용하고 도메인 모델을 프로젝트에서 일어나는 의사소통의 중심에 놓을때 팀은 엄청난 이익을 얻는다.

-   팀원들은 공통 언어를 사용해서 상호 의사소통의 품질에 높이고 의사소통의 결과를 소프트웨어에 반영하게 될 것이다.

-   팀원들은 모델과 보조를 맞추는 투명한 구현을 만들어 낼 것이고 이는 어플리케이션 개발에 영향을 줄 것이다.

-   팀원들은 다른 팀의 설계 산출물과 연관 시키는 방법과 관련한 시각을 공유하고 처계적으로 해당 조직에 가장 독특하고 가치있는 기능에 집중할 것이다.

-   도메인 주도 설계는 기술적으로 힘든 도전이지만 대부분의 소프트웨어 프로젝트가 레거시 시스템으로 굳어버리는 것과는 상반되게 크고 열린 기회를 가져다줄 수 있다.


## 동작하는 도메인 모델 만들기 (Putting the Domain Model to Work) {#동작하는-도메인-모델-만들기--putting-the-domain-model-to-work}

<a id="orge68adcf"></a>

{{< figure src="/ox-hugo/chinese_map.png" caption="Figure 1: 중국 지도" >}}

모든 모델은 중요한 사실이나 사상의 일부 측면을 나타낸다. 모델은 대상을 단수화한 것이다. 모델은 어떤 사실을 해석하는 것으로 불수 있으며 당면한 문제를 해결하는 것과 관련된 측면의 추상화이며 그 밖에 중요하지 않는 세부사항에는 주의를 기울이지 않는다.

-   도메인의 정의
    도메인은 사용자가 프로그램을 사용하는 대상영역을 가리킨다. (항공권 예약,음식 주문,회계 프로그램)

-   도메인 모델의 정의
    현실의 문제를 해결해야할 지식의 폭은 매우 넓을 수 있다. 개발자는 모든 정보를 이해하고 개발하기 어려우므로 모델을 이용하여 지식을 선택하고 단순화하고 의식적으로 구조화 한다. 적절한 도메인 모델은 적절한 모델은 정보를 이해하고 문제에 집중하도록 할 수 있다. 주의 할거은 도메인 모델은 어떤 특정한 다이어그램이 아니라 다이어 그램이 전달하고자 하는 아이디어다.

-   도메인 주도 설계란?
    비즈니스 도메인을 중심으로 소프트웨어 설계 및 코드를 작성하는 개발방법론.
    도메인 중심의 코드베이스로 낮은 결합도와 높은 응집도를 달성하고자 하는 설계기법.


## 도메인 주도 설계에서 유용한 모델 {#도메인-주도-설계에서-유용한-모델}

1.  모델과 핵심 설계는 서로 영향을 주며 구체화 된다.
    모델과 구현은 서로 긴밀하게 연결 되며 유지보수와 계속되는 기능 개선에도 도움을 준다.

2.  모델은 모든 팀 구성원이 사용하는 언어의 중추다.
    개발자는 모델을 통해서 프로그램에 관해 의견을 나눌 수 있고 개발자와 도메인 전문가가 의사소통하는 데 필요한 별도의 번역 절차가 필요하지 않다.

3.  모델은 지식의 정수만을 뽑아낸 것이다.
    모델은 도메인 지식을 조직화 하고 가장 중요한 요소를 구분하는 팀의 합의된 방식이다. 모델에는 우리가 용어를 선택하고, 개념을 분류하며, 분류한 지식을 서로 연관시킬때 도메인에 관한 우리의 사고방식이 담긴다.


### 지식 탐구 {#지식-탐구}

-   도메인 지식 탐구

    도메인 전문가와의 대화 (대화의 숨겨진 의미 이해하기,왜 그렇게 하는지,) -> 추상화된 모델 만들기 -> 구체적 프로토타입 작성 -> 피드백 -> 개선


### 효과적인 모델링 요소 {#효과적인-모델링-요소}

1.  모델과 구현의 연계
    개발 반복주기 동안 모델과 구현의 본질적인 연결 고리(작동하는 소프트웨어)를 만들고 유지했다.

2.  모델을 기반으로 하는 언어 정제
    도메인에서 사용되는 언어와 개발에서 사용하는 언어를 통일하고 개발자와 도메인 구성원들이 별도의 해석없이 모델을 통해서 의사소통을 유지해야 한다.

3.  풍부한 지식이 담긴 모델 개발
    모델은 단순한 데이터 스키마가 아니라 복잡한 문제를 해결하는 데 필수 불가결한 요소이다.

4.  모델의 정제
    모델은 점차 완전해지면서 중요한 개념이 더해진다. 또한 불필요한 개념을 제거해 나간다.

5.  브레인스토밍과 실험
    스케치를 비롯해 브레인스토밍을 통해 결합된 언어를 바탕으로 다양한 모델을 실험하고 변모 시켜 다양한 모델을 연습하고 시도해 보고 평가 할 수 있다.
    팀에서 시나리오를 검토할때 시나리오를 말로 표현해보기만 해도 제안된 모델의 타당성 여부를 재빨리 판단할 수 있다.


## 풍부한 지식이 담긴 설계란? {#풍부한-지식이-담긴-설계란}


### 의사소통과 언어 사용 {#의사소통과-언어-사용}

도메인 모델은 소프트웨어 프로젝트를 위한 공통 언어의 핵심이 될 수 있다. 모델 기반 의사 소통은 통합 모델링 언어(Unified Modeling Language, UML) 상의 다이어그램으로 한정돼서는 안된다. 모델을 가장 효과적으로 사용하려면 모든 의사소통 수단에 스며들 필요가 있다.
또한 애자일 프로세스에서 재강조되고 있는 약식 다이어그램과 형식에 얽매이지 않는 의사소통을 비롯해 텍스트 문서의 유용성도 향상된다. 또한 코드 자체 혹은 해당 코드의 테스트를 토대로 의사 소통의 향상을 꾀할 수 있다.

<https://docs.google.com/presentation/d/1SsjhB%5FDgC%5FDTWo%5FtgMKrkGQfUcp0w6uJ0qLn5QktoVo/edit#slide=id.gca6361c237%5F0%5F61>


### 예제 {#예제}

책에서 참조


### 모델과 구현의 연계 {#모델과-구현의-연계}


## 모델 주도 설계의 기본요소 {#모델-주도-설계의-기본요소}


### 도메인의 격리 {#도메인의-격리}


### 소프트웨어에서 표현되는 모델 {#소프트웨어에서-표현되는-모델}


### 도메인 객체의 생명 주기 {#도메인-객체의-생명-주기}


### 언어의 사용(확장 예제) {#언어의-사용--확장-예제}


## 더 심층적인 통찰을력 향한 리팩터링 {#더-심층적인-통찰을력-향한-리팩터링}


### 도약 {#도약}


### 암시적인 개념을 명확하게 {#암시적인-개념을-명확하게}


### 유연한 설계 {#유연한-설계}


### 분석패턴의 적용 {#분석패턴의-적용}


### 모델과 디자인 패턴의 연결 {#모델과-디자인-패턴의-연결}


### 더 심층적인 통찰역을 향한 리팩터링 {#더-심층적인-통찰역을-향한-리팩터링}


## 전략적 설계 {#전략적-설계}


### 모델의 무결성 유지 {#모델의-무결성-유지}


### 디스틸레이션 {#디스틸레이션}


### 대규모 구조 {#대규모-구조}


### 전략의 종합 {#전략의-종합}


### 결론 {#결론}
